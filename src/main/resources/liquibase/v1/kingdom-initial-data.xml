<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
    
    <property name="now" value="now()" dbms="mysql" />
    <property name="now" value="CURRENT_TIMESTAMP()" dbms="h2" />  
        
    <!-- DEFAULT APPLICATION -->
    <changeSet author="Josue" id="kingdom-initial-data-1">
        <insert tableName="application">
            <column name="uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="email" value="manager1@gmail.com"/>
            <column name="name" value="Application-name"/>
            <column name="company" value="Company-name"/>
            <column name="app_key" value="321fg68sd5j62yt686"/>
            <column name="secret" value="s3cret"/>
            <column name="status" value="ACTIVE"/>
        </insert>
    </changeSet>
     
    <!-- MANAGER 1 -->
    <changeSet author="Josue" id="kingdom-initial-data-2">
        <insert tableName="manager">
            <column name="uuid" value="cdbd57b8-3dc2-4370-b8a6-65e674a430d6"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="email" value="manager1@gmail.com"/>
            <column name="first_name" value="Josue"/>
            <column name="last_name" value="Eduardo"/>
            <column name="password" value="pass123"/>
            <column name="username" value="manager1"/>
            <column name="status" value="ACTIVE"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
    <!-- DOMAIN 1 -->
    <changeSet author="Josue" id="kingdom-initial-data-3">
        <insert tableName="domain">
            <column name="uuid" value="4cf10908-9992-4ce5-8fad-7a8ea1a96b8a"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="description" value="Test domain 1"/>
            <column name="name" value="Domain 1"/>
            <column name="owner_uuid" value="cdbd57b8-3dc2-4370-b8a6-65e674a430d6"/>
            <column name="status" value="ACTIVE"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
    <!-- Default Domain 1 Permissions -->
    <changeSet author="Josue" id="kingdom-initial-data-4">
        <insert tableName="domain_permission">
            <column name="uuid" value="d1486e7e-611c-47eb-bba1-28e6d4adca95"/>
            <column name="description" value="PERMISSION LEVEL 1"/>
            <column name="level" value="1"/>
            <column name="name" value="PERMISSION_LEVEL_1"/>
            <column name="domain_uuid" value="4cf10908-9992-4ce5-8fad-7a8ea1a96b8a"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="6c0dca33-5e1a-4660-8188-5e4db9f310b6"/>
            <column name="description" value="PERMISSION LEVEL 2"/>
            <column name="level" value="2"/>
            <column name="name" value="PERMISSION_LEVEL_2"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="4cf10908-9992-4ce5-8fad-7a8ea1a96b8a"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="3cbf4057-e22c-40ce-a738-9020345aa60b"/>
            <column name="description" value="PERMISSION LEVEL 3"/>
            <column name="level" value="3"/>
            <column name="name" value="PERMISSION_LEVEL_3"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="4cf10908-9992-4ce5-8fad-7a8ea1a96b8a"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="9b37bc34-db06-4afe-9b45-fc30f82d6bb2"/>
            <column name="description" value="PERMISSION LEVEL 4"/>
            <column name="level" value="4"/>
            <column name="name" value="PERMISSION_LEVEL_4"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="4cf10908-9992-4ce5-8fad-7a8ea1a96b8a"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="94730d8e-c616-491d-adce-df94b2fb7a6e"/>
            <column name="description" value="PERMISSION LEVEL 5"/>
            <column name="level" value="5"/>
            <column name="name" value="PERMISSION_LEVEL_5"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="4cf10908-9992-4ce5-8fad-7a8ea1a96b8a"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
    <!-- MANAGER MEMBERSHIP-->
    <changeSet author="Josue" id="kingdom-initial-data-5">
        <insert tableName="manager_membership">
            <column name="uuid" value="8dc26c2f-4bfa-4c05-9f3c-de249e251ba1"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="4cf10908-9992-4ce5-8fad-7a8ea1a96b8a"/>
            <column name="manager_uuid" value="cdbd57b8-3dc2-4370-b8a6-65e674a430d6"/>
            <column name="permission_uuid" value="94730d8e-c616-491d-adce-df94b2fb7a6e"/><!-- OWNER SHOULD BE JOINED TO DOMAIN AS WELL -->
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
    <changeSet author="Josue" id="kingdom-initial-data-6">
        <insert tableName="api_credential">
            <column name="uuid" value="1ad9d234-9445-4b60-86df-8ad2defb64d2"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="api_key" value="987sdfsdf623bdf6g843"/>
            <column name="name" value="MASTER API KEY"/>
            <column name="status" value="ACTIVE"/>
            <column name="membership_uuid" value="8dc26c2f-4bfa-4c05-9f3c-de249e251ba1"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
    <changeSet author="Josue" id="kingdom-initial-data-7">
        <insert tableName="manager">
            <column name="uuid" value="9b7ddc20-569e-4b1d-be38-b9a35ec9022f"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="email" value="manager3@gmail.com"/>
            <column name="password" value="8939ing938ng3984"/>
            <column name="status" value="PROVISIONING"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
        <insert tableName="invitation">
            <column name="uuid" value="3e68d3e1-d0fd-48af-81ca-1cd10e1a92f7"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="status" value="CREATED"/>
            <column name="target_manager_uuid" value="9b7ddc20-569e-4b1d-be38-b9a35ec9022f"/>
            <column name="token" value="93f52dc9-496d-46bc-a2f8-ba7394fca966"/>
            <column name="author_manager_uuid" value="cdbd57b8-3dc2-4370-b8a6-65e674a430d6"/>
            <column name="domain_uuid" value="4cf10908-9992-4ce5-8fad-7a8ea1a96b8a"/>
            <column name="domain_permission_uuid" value="d1486e7e-611c-47eb-bba1-28e6d4adca95"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
   
    <!-- ####################################################################################### -->
    
    <!-- MANAGER 2 -->
    <changeSet author="Josue" id="kingdom-initial-data-8">
        <insert tableName="manager">
            <column name="uuid" value="537e6f68-47fc-4926-8a8a-8d669715f300"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="email" value="manager2@gmail.com"/>
            <column name="first_name" value="Josue"/>
            <column name="last_name" value="Eduardo"/>
            <column name="password" value="pass123"/>
            <column name="username" value="manager2"/>
            <column name="status" value="ACTIVE"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
    <!-- DOMAIN 1 -->
    <changeSet author="Josue" id="kingdom-initial-data-9">
        <insert tableName="domain">
            <column name="uuid" value="3668f3b8-acc7-4ebb-b464-9a3f968fee52"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="description" value="Test domain 1"/>
            <column name="name" value="Domain 1"/>
            <column name="owner_uuid" value="537e6f68-47fc-4926-8a8a-8d669715f300"/>
            <column name="status" value="ACTIVE"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
    <!-- Default Domain 1 Permissions -->
    <changeSet author="Josue" id="kingdom-initial-data-10">
        <insert tableName="domain_permission">
            <column name="uuid" value="3f622281-5cbf-4e39-8428-51714839d03b"/>
            <column name="description" value="GUEST PERMISSION"/>
            <column name="level" value="1"/>
            <column name="name" value="GUEST"/>
            <column name="domain_uuid" value="3668f3b8-acc7-4ebb-b464-9a3f968fee52"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="02a494e4-9836-4c83-8883-f8b0d787b5a6"/>
            <column name="description" value="ADMIN PERMISSION"/>
            <column name="level" value="2"/>
            <column name="name" value="ADMIN"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="3668f3b8-acc7-4ebb-b464-9a3f968fee52"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
    <!-- MANAGER MEMBERSHIP-->
    <changeSet author="Josue" id="kingdom-initial-data-11">
        <insert tableName="manager_membership">
            <column name="uuid" value="9f846cad-8301-416c-ab48-bb4ce5f92b2c"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="3668f3b8-acc7-4ebb-b464-9a3f968fee52"/>
            <column name="manager_uuid" value="537e6f68-47fc-4926-8a8a-8d669715f300"/>
            <column name="permission_uuid" value="02a494e4-9836-4c83-8883-f8b0d787b5a6"/><!-- OWNER SHOULD BE JOINED TO DOMAIN AS WELL -->
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
    <changeSet author="Josue" id="kingdom-initial-data-12">
        <insert tableName="api_credential">
            <column name="uuid" value="7048242d-f862-4295-9230-ee0f84202593"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="api_key" value="jsdf897sdfnj39nf9348"/>
            <column name="name" value="MASTER API KEY"/>
            <column name="status" value="ACTIVE"/>
            <column name="membership_uuid" value="9f846cad-8301-416c-ab48-bb4ce5f92b2c"/>
            <column name="application_uuid" value="926caa10-43a4-11e4-916c-0800200c9a66"/>
        </insert>
    </changeSet>
    
       
</databaseChangeLog>
