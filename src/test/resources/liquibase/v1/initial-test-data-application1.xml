<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
    
    <property name="now" value="now()" dbms="mysql" />
    <property name="now" value="CURRENT_TIMESTAMP()" dbms="h2" />  
    
    <!-- TODO ADD MULTITENANCY DATA -->
    <changeSet author="Josue" id="initial-test-data-0" failOnError="true" runAlways="true">
        <delete tableName="api_credential" />
        <delete tableName="manager_membership" />
        <delete tableName="invitation" />
        <delete tableName="domain_permission" />
        <delete tableName="domain" />
        <delete tableName="manager" />
        <delete tableName="application" />
    </changeSet>
    
    
    <!-- DEFAULT APPLICATION -->
    <changeSet author="Josue" id="initial-test-data-1" runAlways="true">
        <insert tableName="application">
            <column name="uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="email" value="manager1@gmail.com"/>
            <column name="name" value="Application-name"/>
            <column name="company" value="Company-name"/>
            <column name="app_key" value="321fg68sd5j62yt686"/>
            <column name="secret" value="s3cret"/>
            <column name="status" value="ACTIVE"/>
        </insert>
    </changeSet>
    
    <!-- MANAGER 1 -->
    <changeSet author="Josue" id="initial-test-data-2" runAlways="true">
        <insert tableName="manager">
            <column name="uuid" value="zb1XuD3CQ3C4pmXmdKQw1g"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="email" value="manager1@gmail.com"/>
            <column name="first_name" value="Josue"/>
            <column name="last_name" value="Eduardo"/>
            <column name="password" value="pass123"/>
            <column name="username" value="manager1"/>
            <column name="status" value="ACTIVE"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
    <!-- DOMAIN 1 -->
    <changeSet author="Josue" id="initial-test-data-3" runAlways="true">
        <insert tableName="domain">
            <column name="uuid" value="TPEJCJmSTOWPrXqOoalrig"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="description" value="Test domain 1"/>
            <column name="name" value="Domain 1"/>
            <column name="owner_uuid" value="zb1XuD3CQ3C4pmXmdKQw1g"/>
            <column name="status" value="ACTIVE"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
    <!-- Default Domain 1 Permissions -->
    <changeSet author="Josue" id="initial-test-data-4" runAlways="true">
        <insert tableName="domain_permission">
            <column name="uuid" value="0UhufmEcR-u7oSjm1K3KlQ"/>
            <column name="description" value="PERMISSION LEVEL 1"/>
            <column name="level" value="1"/>
            <column name="name" value="PERMISSION_LEVEL_1"/>
            <column name="domain_uuid" value="TPEJCJmSTOWPrXqOoalrig"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="bA3KM14aRmCBiF5NufMQtg"/>
            <column name="description" value="PERMISSION LEVEL 2"/>
            <column name="level" value="2"/>
            <column name="name" value="PERMISSION_LEVEL_2"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="TPEJCJmSTOWPrXqOoalrig"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="PL9AV-IsQM6nOJAgNFqmCw"/>
            <column name="description" value="PERMISSION LEVEL 3"/>
            <column name="level" value="3"/>
            <column name="name" value="PERMISSION_LEVEL_3"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="TPEJCJmSTOWPrXqOoalrig"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="mze8NNsGSv6bRfww-C1rsg"/>
            <column name="description" value="PERMISSION LEVEL 4"/>
            <column name="level" value="4"/>
            <column name="name" value="PERMISSION_LEVEL_4"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="TPEJCJmSTOWPrXqOoalrig"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="lHMNjsYWSR2tzt-Usvt6bg"/>
            <column name="description" value="PERMISSION LEVEL 5"/>
            <column name="level" value="5"/>
            <column name="name" value="PERMISSION_LEVEL_5"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="TPEJCJmSTOWPrXqOoalrig"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
    <!-- MANAGER MEMBERSHIP-->
    <changeSet author="Josue" id="initial-test-data-5" runAlways="true">
        <insert tableName="manager_membership">
            <column name="uuid" value="lHMNjsYWSR2tzt-Usvt6bg"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="TPEJCJmSTOWPrXqOoalrig"/>
            <column name="manager_uuid" value="zb1XuD3CQ3C4pmXmdKQw1g"/>
            <column name="permission_uuid" value="lHMNjsYWSR2tzt-Usvt6bg"/><!-- OWNER SHOULD BE JOINED TO DOMAIN AS WELL -->
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
    <changeSet author="Josue" id="initial-test-data-6" runAlways="true">
        <insert tableName="api_credential">
            <column name="uuid" value="GtnSNJRFS2CG34rS3vtk0g"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="api_key" value="987sdfsdf623bdf6g843"/>
            <column name="name" value="MASTER API KEY"/>
            <column name="status" value="ACTIVE"/>
            <column name="membership_uuid" value="lHMNjsYWSR2tzt-Usvt6bg"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
    <changeSet author="Josue" id="initial-test-data-7" runAlways="true">
        <insert tableName="manager">
            <column name="uuid" value="m33cIFaeSx2-OLmjXskCLw"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="email" value="manager3@gmail.com"/>
            <column name="password" value="8939ing938ng3984"/>
            <column name="status" value="PROVISIONING"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
        <insert tableName="invitation">
            <column name="uuid" value="PmjT4dD9SK-ByhzRDhqS9w"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="status" value="CREATED"/>
            <column name="target_manager_uuid" value="m33cIFaeSx2-OLmjXskCLw"/>
            <column name="token" value="93f52dc9-496d-46bc-a2f8-ba7394fca966"/>
            <column name="author_manager_uuid" value="zb1XuD3CQ3C4pmXmdKQw1g"/>
            <column name="domain_uuid" value="TPEJCJmSTOWPrXqOoalrig"/>
            <column name="domain_permission_uuid" value="0UhufmEcR-u7oSjm1K3KlQ"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
   
    <!-- ####################################################################################### -->
    
    <!-- MANAGER 1 -->
    <changeSet author="Josue" id="initial-test-data-8" runAlways="true">
        <insert tableName="manager">
            <column name="uuid" value="U35vaEf8SSaKio1mlxXzAA"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="email" value="manager2@gmail.com"/>
            <column name="first_name" value="Josue"/>
            <column name="last_name" value="Eduardo"/>
            <column name="password" value="pass123"/>
            <column name="username" value="manager2"/>
            <column name="status" value="ACTIVE"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
    <!-- DOMAIN 1 -->
    <changeSet author="Josue" id="initial-test-data-9" runAlways="true">
        <insert tableName="domain">
            <column name="uuid" value="NmjzuKzHTru0ZJo_lo_uUg"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="description" value="Test domain 1"/>
            <column name="name" value="Domain 1"/>
            <column name="owner_uuid" value="U35vaEf8SSaKio1mlxXzAA"/>
            <column name="status" value="ACTIVE"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
    <!-- Default Domain 1 Permissions -->
    <changeSet author="Josue" id="initial-test-data-10" runAlways="true">
        <insert tableName="domain_permission">
            <column name="uuid" value="P2IigVy_TjmEKFFxSDnQOw"/>
            <column name="description" value="GUEST PERMISSION"/>
            <column name="level" value="1"/>
            <column name="name" value="GUEST"/>
            <column name="domain_uuid" value="NmjzuKzHTru0ZJo_lo_uUg"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
        <insert tableName="domain_permission">
            <column name="uuid" value="AqSU5Jg2TIOIg_iw14e1pg"/>
            <column name="description" value="ADMIN PERMISSION"/>
            <column name="level" value="2"/>
            <column name="name" value="ADMIN"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="NmjzuKzHTru0ZJo_lo_uUg"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
    <!-- MANAGER MEMBERSHIP-->
    <changeSet author="Josue" id="initial-test-data-11" runAlways="true">
        <insert tableName="manager_membership">
            <column name="uuid" value="n4RsrYMBQWyrSLtM5fkrLA"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="domain_uuid" value="NmjzuKzHTru0ZJo_lo_uUg"/>
            <column name="manager_uuid" value="U35vaEf8SSaKio1mlxXzAA"/>
            <column name="permission_uuid" value="AqSU5Jg2TIOIg_iw14e1pg"/><!-- OWNER SHOULD BE JOINED TO DOMAIN AS WELL -->
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
    <changeSet author="Josue" id="initial-test-data-12" runAlways="true">
        <insert tableName="api_credential">
            <column name="uuid" value="cEgkLfhiQpWSMO4PhCAlkw"/>
            <column name="date_created" valueDate="${now}"/>
            <column name="api_key" value="jsdf897sdfnj39nf9348"/>
            <column name="name" value="MASTER API KEY"/>
            <column name="status" value="ACTIVE"/>
            <column name="membership_uuid" value="n4RsrYMBQWyrSLtM5fkrLA"/>
            <column name="application_uuid" value="kmyqEEOkEeSRbAgAIAyaZg"/>
        </insert>
    </changeSet>
    
       
</databaseChangeLog>
